"use strict";(self.webpackChunkmaterial_dashboard_pro_angular=self.webpackChunkmaterial_dashboard_pro_angular||[]).push([[724],{29724:function(e,s,t){t.r(s),t.d(s,{PagesModule:function(){return b}});var i=t(39895),n=t(38583),o=t(41335),a=t(3679),r=t(927),l=t(37453),d=t(37793),g=t(69317),c=t(89711),u=t(40355),m=t(37716),p=t(9709),h=t(77001);const Z=[{path:"",children:[{path:"login",component:(()=>{class e{constructor(e,s,t,i,n,o){this.formBuilder=e,this.element=s,this.userService=t,this.messageBus=i,this.router=n,this.matSnackbar=o,this.test=new Date,this.session=new r.E,this.invisbleLoading=!0,this.nativeElement=s.nativeElement,this.sidebarVisible=!1}ngOnInit(){this.loginFrm=this.formBuilder.group({userName:new a.NI,password:new a.NI}),localStorage.clear(),this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggle")[0];const e=document.getElementsByTagName("body")[0];e.classList.add("login-page"),e.classList.add("off-canvas-sidebar"),document.getElementsByClassName("card")}sidebarToggle(){var e=this.toggleButton,s=document.getElementsByTagName("body")[0];document.getElementsByClassName("navbar-collapse"),0==this.sidebarVisible?(setTimeout(function(){e.classList.add("toggled")},500),s.classList.add("nav-open"),this.sidebarVisible=!0):(this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,s.classList.remove("nav-open"))}ngOnDestroy(){const e=document.getElementsByTagName("body")[0];e.classList.remove("login-page"),e.classList.remove("off-canvas-sidebar")}onClick_Login(){this.invisbleLoading=!1;let e={userName:this.userName,password:c.j.encrypt_req(this.password)};this.userService.login(e).subscribe(e=>{if(e.status==u.G.success){this.session.setAcToken(e.body[0].access_token);let s=new d.R(e.body[0].access_token);this.session.setUID(s.getID()),this.userService.findUserByID(this.session.getUID()).subscribe(e=>{let s=e.body[0],t=new l.T;t.ID=s.ID,t.firstName=s.firstName,t.lastName=s.lastName,t.group=s.group,t.group.groupPermission=t.group.groupPermission.filter(e=>1==e.isView),t.userName=s.userName,this.session.setLoginSession(t);let i=new g.Vm;i.channel=g.$W.login,this.messageBus.sendMessage([i]),this.router.navigate(["/dashboard"])}),this.invisbleLoading=!0}},e=>{this.matSnackbar.open("Invalid Username/Password","Failed",{duration:4e3}),this.invisbleLoading=!0})}}return e.\u0275fac=function(s){return new(s||e)(m.Y36(a.qu),m.Y36(m.SBq),m.Y36(p.K),m.Y36(g.xX),m.Y36(i.F0),m.Y36(h.ux))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-login-cmp"]],decls:33,vars:6,consts:[[1,"wrapper","wrapper-full-page"],["filter-color","black",1,"page-header","login-page","header-filter",2,"background-image","url('./assets/img/bg4.jpg')","background-size","cover","background-position","top center"],[1,"container"],[1,"loader",3,"hidden"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","2","stroke-miterlimit","10",1,"path"],[1,"row"],[1,"col-lg-4","col-md-6","col-sm-6","ml-auto","mr-auto"],[1,"form",3,"formGroup"],[1,"card","card-login"],[1,"card-header","card-header-rose","text-center"],[1,"card-title"],[1,"card-body"],[1,"card-description","text-center"],[1,"bmd-form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"material-icons"],["type","text","formControlName","userName","required","","name","userName","placeholder","User Name...",1,"form-control",3,"ngModel","ngModelChange"],["type","password","formControlName","password","required","","name","password","placeholder","Password...",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer","justify-content-center"],[1,"btn","btn-rose","btn-link","btn-lg",3,"hidden","disabled","click"]],template:function(e,s){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.O4$(),m.TgZ(4,"svg",4),m._UZ(5,"circle",5),m.qZA(),m.qZA(),m.kcU(),m.TgZ(6,"div",6),m.TgZ(7,"div",7),m.TgZ(8,"form",8),m.TgZ(9,"div",9),m.TgZ(10,"div",10),m.TgZ(11,"h4",11),m._uU(12,"Log in"),m.qZA(),m.qZA(),m.TgZ(13,"div",12),m.TgZ(14,"p",13),m._uU(15,"Or Be Classical"),m.qZA(),m.TgZ(16,"span",14),m.TgZ(17,"div",15),m.TgZ(18,"div",16),m.TgZ(19,"span",17),m.TgZ(20,"i",18),m._uU(21,"face"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(22,"input",19),m.NdJ("ngModelChange",function(e){return s.userName=e}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(23,"span",14),m.TgZ(24,"div",15),m.TgZ(25,"div",16),m.TgZ(26,"span",17),m.TgZ(27,"i",18),m._uU(28,"lock_outline"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(29,"input",20),m.NdJ("ngModelChange",function(e){return s.password=e}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(30,"div",21),m.TgZ(31,"button",22),m.NdJ("click",function(){return s.onClick_Login()}),m._uU(32,"Lets Go"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Q6J("hidden",s.invisbleLoading),m.xp6(5),m.Q6J("formGroup",s.loginFrm),m.xp6(14),m.Q6J("ngModel",s.userName),m.xp6(7),m.Q6J("ngModel",s.password),m.xp6(2),m.Q6J("hidden",!s.invisbleLoading)("disabled",!s.loginFrm.valid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.Q7],encapsulation:2}),e})()}]}];let b=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[n.ez,i.Bz.forChild(Z),a.u5,o.q,a.UX]]}),e})()}}]);