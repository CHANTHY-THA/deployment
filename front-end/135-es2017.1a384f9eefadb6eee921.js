"use strict";(self.webpackChunkmaterial_dashboard_pro_angular=self.webpackChunkmaterial_dashboard_pro_angular||[]).push([[135],{34958:function(t,e,i){i.d(e,{K:function(){return r}});var n=i(22238),o=i(37716),a=i(51095);let r=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}onNoClick(){this.dialogRef.close(0)}onYesClick(){this.dialogRef.close(1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.so),o.Y36(n.WI))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-ask-for-confirmation-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",2,"display","flex","justify-content","center","align-items","center"],["mat-button","",3,"click"],["mat-stroked-button","","cdkFocusInitial","",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.TgZ(6,"button",3),o.NdJ("click",function(){return e.onNoClick()}),o._uU(7,"NO"),o.qZA(),o.TgZ(8,"button",4),o.NdJ("click",function(){return e.onYesClick()}),o._uU(9,"YES"),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Oqu(e.data.title),o.xp6(3),o.Oqu(e.data.message))},directives:[n.uh,n.xY,n.H8,a.lW],styles:[""]}),t})()},61176:function(t,e,i){i.d(e,{H:function(){return o}});var n=i(927);class o{constructor(t){this.router=t,this.session=new n.E,this.isModify=!1,this.date_format_dd_mm_yy="dd-MM-yy",this.validateCache()}checkModifyPermission(){null!=this.permission&&(1==this.permission.isAdd||this.permission.isUpdate)&&(this.isModify=!0)}validateCache(){}numberOnly(t){const e=t.which?t.which:t.keyCode;return!(e>31&&(e<46||e>57))}}},135:function(t,e,i){i.r(e),i.d(e,{GroupModule:function(){return Tt}});var n=i(32789),o=i(40355),a=i(84934),r=i(23235),s=i(927),c=i(61176),d=i(37716),u=i(39895),l=i(10037),g=i(51095),m=i(33935),p=i(76627),f=i(98295),h=i(83166),Z=i(3679),b=i(38583),_=i(99692),A=i(72458);const y=["tblGroup"];function w(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"button",31),d.NdJ("click",function(){d.CHM(t);const e=d.oxw();return e.refreshData(e.refresh)})("click",function(){return d.CHM(t),d.oxw().criterial=""}),d.TgZ(1,"mat-icon"),d._uU(2,"close"),d.qZA(),d.qZA()}}function D(t,e){1&t&&(d.TgZ(0,"th",32),d._uU(1," ID "),d.qZA())}function v(t,e){if(1&t&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.ID," ")}}function x(t,e){1&t&&(d.TgZ(0,"th",32),d._uU(1," Group "),d.qZA())}function q(t,e){if(1&t&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.group," ")}}function T(t,e){1&t&&(d.TgZ(0,"th",32),d._uU(1," status "),d.qZA())}function C(t,e){if(1&t&&(d.TgZ(0,"td",33),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.status," ")}}function N(t,e){1&t&&d._UZ(0,"th",32)}function k(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",34),d.TgZ(1,"div",35),d.TgZ(2,"button",36),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().onClick_edit(e)}),d.TgZ(3,"i",37),d._uU(4,"edit"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}}function S(t,e){1&t&&d._UZ(0,"tr",38)}function P(t,e){1&t&&d._UZ(0,"tr",39)}let M=(()=>{class t extends c.H{constructor(t,e){super(t),this.route=t,this.groupService=e,this.displayedColumns=["ID","Group","Status","action"],this.dataSourceGroup=new n.by,this.pageLength=0,this.pageSizeOptions=[50,100,300],this.criterial="",this.session=new s.E}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==a.o.groupsPageID)[0],this.permission&&1==this.permission.isView?(this.getCountGroup(),this.getListGroups(0,50)):r.C.showNotification("Permission Denied",a.o.warningNotify)}getCountGroup(){this.groupService.getCountGroups().subscribe(t=>{t.status==o.G.success&&(this.pageLength=t.body[0])})}getListGroups(t,e){this.groupService.getListGroup(t,e).subscribe(t=>{t.status==o.G.success&&t.body.length>0&&(this.dataSourceGroup.data=t.body)})}paginatorEvent(t){this.getListGroups(t.pageIndex*t.pageSize,t.pageSize)}applyFilter(t){this.dataSourceGroup.filter=t}refreshData(t){this.applyFilter(t)}onClick_New(){let t={queryParams:{element:JSON.stringify({isEdit:0})}};this.route.navigate(["/group-form"],t)}onClick_edit(t){let e={queryParams:{element:JSON.stringify({isEdit:1,data:t})}};this.route.navigate(["/group-form"],e)}openAddGroupDialog(t){}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(u.F0),d.Y36(l.l))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-group"]],viewQuery:function(t,e){if(1&t&&d.Gf(y,5),2&t){let t;d.iGM(t=d.CRH())&&(e.tblUser=t.first)}},features:[d.qOj],decls:46,vars:12,consts:[[1,"main-content","p-0","m-0",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","m-0"],[1,"card-body"],[1,"d-flex","justify-content-start"],[1,"subHeaderTitle"],[2,"margin-top","-8px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],[1,"col-md-2","mrtb-0","pltb-0"],[1,"fullWidth"],["matPrefix",""],["matInput","","type","text","placeholder","search","name","criterial",3,"ngModel","keyup","ngModelChange"],["class","ml-3","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"col-md-10"],[3,"length","pageSize","pageSizeOptions","page"],[1,"tbl-container","table-responsive"],["mat-table","",3,"dataSource","dataSourceChange"],["tblGroup",""],["matColumnDef","ID"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","","matRipple","",4,"matCellDef"],["matColumnDef","Group"],["matColumnDef","Status"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","mat-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"ml-3",3,"click"],["mat-header-cell","",1,"text-primary"],["mat-cell","","matRipple",""],["mat-cell",""],[1,"d-flex","justify-content-end"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link","p-1","m-0",3,"click"],[1,"material-icons"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d.TgZ(7,"h4",7),d._uU(8,"Group"),d.qZA(),d.TgZ(9,"div",8),d.TgZ(10,"button",9),d.TgZ(11,"mat-icon"),d._uU(12,"more_vert"),d.qZA(),d.qZA(),d.TgZ(13,"mat-menu",null,10),d.TgZ(15,"button",11),d.NdJ("click",function(){return e.onClick_New()}),d.TgZ(16,"mat-icon"),d._uU(17,"dialpad"),d.qZA(),d.TgZ(18,"span"),d._uU(19,"New"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",2),d.TgZ(21,"div",12),d.TgZ(22,"mat-form-field",13),d.TgZ(23,"mat-icon",14),d._uU(24,"search"),d.qZA(),d.TgZ(25,"input",15),d.NdJ("keyup",function(t){return e.applyFilter(t.target.value)})("ngModelChange",function(t){return e.criterial=t}),d.qZA(),d.YNc(26,w,3,0,"button",16),d.qZA(),d.qZA(),d.TgZ(27,"div",17),d.TgZ(28,"mat-paginator",18),d.NdJ("page",function(t){return e.paginatorEvent(t)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",19),d.TgZ(30,"table",20,21),d.NdJ("dataSourceChange",function(t){return e.dataSourceGroup=t}),d.ynx(32,22),d.YNc(33,D,2,0,"th",23),d.YNc(34,v,2,1,"td",24),d.BQk(),d.ynx(35,25),d.YNc(36,x,2,0,"th",23),d.YNc(37,q,2,1,"td",24),d.BQk(),d.ynx(38,26),d.YNc(39,T,2,0,"th",23),d.YNc(40,C,2,1,"td",24),d.BQk(),d.ynx(41,27),d.YNc(42,N,1,0,"th",23),d.YNc(43,k,5,0,"td",28),d.BQk(),d.YNc(44,S,1,0,"tr",29),d.YNc(45,P,1,0,"tr",30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(14);d.Q6J("hidden",!e.permission.isView),d.xp6(10),d.Q6J("matMenuTriggerFor",t),d.xp6(5),d.Q6J("disabled",!e.permission.isAdd),d.xp6(10),d.Q6J("ngModel",e.criterial),d.xp6(1),d.Q6J("ngIf",e.criterial),d.xp6(2),d.Q6J("length",e.pageLength)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions),d.xp6(2),d.Q6J("dataSource",e.dataSourceGroup),d.xp6(14),d.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[g.lW,m.p6,p.Hw,m.VK,m.OP,f.KE,f.qo,h.Nt,Z.Fj,Z.JJ,Z.On,b.O5,_.NW,n.BZ,n.w1,n.fO,n.Dz,n.as,n.nj,f.R9,n.ge,n.ev,A.wG,n.XQ,n.Gk],styles:[".customerName[_ngcontent-%COMP%]{margin-bottom:0}.place[_ngcontent-%COMP%], phone[_ngcontent-%COMP%]{margin-bottom:0;color:gray;font-size:12px}.placeIconSize[_ngcontent-%COMP%]{font-size:14px!important}.phoneIconSize[_ngcontent-%COMP%]{font-size:14px!important}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-height: 1000px){.tbl-container[_ngcontent-%COMP%]{height:700px;overflow:auto}}@media screen and (max-height: 900px){.tbl-container[_ngcontent-%COMP%]{height:425px;overflow:auto}}mat-cell[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-weight:400}.mat-row[_ngcontent-%COMP%]:hover{background:whitesmoke}"]}),t})();class I{}class J{constructor(){this.isView=!1,this.isViewAll=!1,this.isAdd=!1,this.isDelete=!1,this.isUpdate=!1}}var U=i(34958),O=i(49206),F=i(77001),Q=i(22238),Y=i(67441),G=i(7539);const R=["tblPagePermion"];function H(t,e){if(1&t&&(d.TgZ(0,"mat-option",33),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.ID),d.xp6(1),d.Oqu(t.name)}}function E(t,e){1&t&&(d.TgZ(0,"div"),d._uU(1," department is required. "),d.qZA())}function L(t,e){if(1&t&&(d.TgZ(0,"div",34),d.YNc(1,E,2,0,"div",35),d.qZA()),2&t){d.oxw();const t=d.MAs(20);d.xp6(1),d.Q6J("ngIf",t.errors.required)}}function z(t,e){1&t&&(d.TgZ(0,"div"),d._uU(1," group is required. "),d.qZA())}function j(t,e){if(1&t&&(d.TgZ(0,"div",34),d.YNc(1,z,2,0,"div",35),d.qZA()),2&t){d.oxw();const t=d.MAs(25);d.xp6(1),d.Q6J("ngIf",t.errors.required)}}function V(t,e){1&t&&(d.TgZ(0,"th",36),d._uU(1," Page "),d.qZA())}function B(t,e){if(1&t&&(d.TgZ(0,"td",37),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.page?t.page.titleEN:t.groupPermission.value," ")}}function K(t,e){1&t&&(d.TgZ(0,"th",36),d._uU(1," View "),d.qZA())}function X(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",37),d.TgZ(1,"mat-checkbox",38),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.isView=e}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(1),d.s9C("name",t.ID+"isView"),d.Q6J("ngModel",t.isView)}}function W(t,e){1&t&&(d.TgZ(0,"th",36),d._uU(1," Add "),d.qZA())}function tt(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",37),d.TgZ(1,"mat-checkbox",38),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.isAdd=e}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(1),d.s9C("name",t.ID+"isAdd"),d.Q6J("ngModel",t.isAdd)}}function et(t,e){1&t&&(d.TgZ(0,"th",36),d._uU(1," Edit "),d.qZA())}function it(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",37),d.TgZ(1,"mat-checkbox",38),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.isUpdate=e}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(1),d.s9C("name",t.ID+"isUpdate"),d.Q6J("ngModel",t.isUpdate)}}function nt(t,e){1&t&&(d.TgZ(0,"th",36),d._uU(1," Delete "),d.qZA())}function ot(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",39),d.TgZ(1,"mat-checkbox",38),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.isDelete=e}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(1),d.s9C("name",t.ID+"isDelete"),d.Q6J("ngModel",t.isDelete)}}function at(t,e){1&t&&(d.TgZ(0,"th",36),d._uU(1," View All "),d.qZA())}function rt(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",37),d.TgZ(1,"mat-checkbox",38),d.NdJ("ngModelChange",function(e){return d.CHM(t).$implicit.isViewAll=e}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(1),d.s9C("name",t.ID+"isViewAll"),d.Q6J("ngModel",t.isViewAll)}}function st(t,e){1&t&&d._UZ(0,"tr",40)}function ct(t,e){1&t&&d._UZ(0,"tr",41)}const dt=function(){return{standalone:!0}};let ut=(()=>{class t extends c.H{constructor(t,e,i,o,a,r){super(r),this.activateRoute=t,this.groupService=e,this.departmentService=i,this.matSnackbar=o,this.dialog=a,this.route=r,this.groupController=new Z.NI,this.onAddGroup=new d.vpe,this.group=new I,this.isEdit="0",this.displayedColumns=["Page","View","Add","Edit","Remove","ViewAll"],this.dataSourcePermission=new n.by,this.pageForm=new Z.cw({ID:new Z.NI,titleEN:new Z.NI,titleKH:new Z.NI,pageUrl:new Z.NI,code:new Z.NI,description:new Z.NI,isActive:new Z.NI,created:new Z.NI})}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==a.o.groupFormPageID)[0],this.permission&&1==this.permission.isView?(this.getListDepartments(),this.onLoadData()):r.C.showNotification("Permission Denied",a.o.warningNotify),this.getPageList()}onLoadData(){this.activateRoute.queryParams.subscribe(t=>{if(t.element){let e=JSON.parse(t.element?t.element:null);e&&"1"==e.isEdit?(this.group=e.data,this.groupService.getPermissionByGroupID(this.group.ID).subscribe(t=>{console.log(t),t.status==o.G.success&&t.body.length>0&&(this.dataSourcePermission.data=t.body[0].groupPermission),this.tblPagePermion.renderRows(),this.getPageList()})):(this.getListDepartments(),this.getPageList())}})}onClick_Save(){this.dialog.open(U.K,{width:"270px",data:{message:"Are you sure ?",title:"Save"}}).afterClosed().subscribe(t=>{1==t&&(this.group.groupPermission=this.dataSourcePermission.data,this.groupService.addGroup(this.group).subscribe(t=>{t.status==o.G.success?(this.matSnackbar.open(t.body[0].toString(),t.status,{duration:2e3}),this.onAddGroup.emit(t),this.route.navigate(["/groups"])):this.matSnackbar.open(t.body[0].toString(),t.status,{duration:2e3})}))})}getListDepartments(){this.departmentService.getListDepartments().subscribe(t=>{t.status==o.G.success&&t.status.length>0&&(this.departmentList=t.body)})}getPageList(){this.groupService.getAllPages().subscribe(t=>{console.log(t.body),t.status==o.G.success&&t.body.length>0&&(t.body.forEach(t=>{let e=new J;e.pageID=t.ID,e.page=t,0==this.dataSourcePermission.data.filter(t=>t.pageID==e.pageID).length&&this.dataSourcePermission.data.push(e)}),this.tblPagePermion.renderRows())})}AddnewPage(){let t;t=this.pageForm.getRawValue(),console.log(t),this.groupService.savePage(t).subscribe(t=>{console.log(t.body)})}onDepartmentSelectChanged(){}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(u.gz),d.Y36(l.l),d.Y36(O.n),d.Y36(F.ux),d.Y36(Q.uw),d.Y36(u.F0))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-group-form"]],viewQuery:function(t,e){if(1&t&&d.Gf(R,5),2&t){let t;d.iGM(t=d.CRH())&&(e.tblPagePermion=t.first)}},features:[d.qOj],decls:50,vars:13,consts:[[1,"main-content","p-0","m-0",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","mr-auto","ml-auto"],[1,"wizard-container"],["data-color","rose","id","wizardProfile",1,"card","mlr-2"],[1,"card-body"],[1,"tab-content"],["groupForm","ngForm"],[1,"d-flex","justify-content-end"],["mat-button","","routerLink","/groups"],["mat-button","","color","primary",3,"disabled","click"],[1,"w-100"],["name","departmentID","required","",3,"ngModel","ngModelOptions","ngModelChange"],["department","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["matInput","","required","","name","groupName","placeholder","group ",3,"ngModel","ngModelChange"],["groupName","ngModel"],[1,"table-responsive"],["mat-table","",1,"mt-4","mb-4",2,"width","100%","height","100%",3,"dataSource"],["tblPagePermion",""],["matColumnDef","Page"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","View"],["matColumnDef","Add"],["matColumnDef","Edit"],["matColumnDef","Remove"],["mat-cell","","style","width: 60px;",4,"matCellDef"],["matColumnDef","ViewAll"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["mat-header-cell","",1,"text-primary"],["mat-cell",""],[3,"name","ngModel","ngModelChange"],["mat-cell","",2,"width","60px"],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d.TgZ(7,"div",7),d.TgZ(8,"form",null,8),d.TgZ(10,"div",9),d.TgZ(11,"button",10),d._uU(12,"Cancel"),d.qZA(),d.TgZ(13,"button",11),d.NdJ("click",function(){return e.onClick_Save()}),d._uU(14,"Save"),d.qZA(),d.qZA(),d.TgZ(15,"div"),d.TgZ(16,"mat-form-field",12),d.TgZ(17,"mat-label"),d._uU(18,"Department"),d.qZA(),d.TgZ(19,"mat-select",13,14),d.NdJ("ngModelChange",function(t){return e.group.departmentID=t})("ngModelChange",function(){return e.onDepartmentSelectChanged()}),d.YNc(21,H,2,2,"mat-option",15),d.qZA(),d.YNc(22,L,2,1,"div",16),d.qZA(),d.TgZ(23,"mat-form-field",12),d.TgZ(24,"input",17,18),d.NdJ("ngModelChange",function(t){return e.group.group=t}),d.qZA(),d.YNc(26,j,2,1,"div",16),d.qZA(),d.qZA(),d.TgZ(27,"div",19),d.TgZ(28,"table",20,21),d.ynx(30,22),d.YNc(31,V,2,0,"th",23),d.YNc(32,B,2,1,"td",24),d.BQk(),d.ynx(33,25),d.YNc(34,K,2,0,"th",23),d.YNc(35,X,2,2,"td",24),d.BQk(),d.ynx(36,26),d.YNc(37,W,2,0,"th",23),d.YNc(38,tt,2,2,"td",24),d.BQk(),d.ynx(39,27),d.YNc(40,et,2,0,"th",23),d.YNc(41,it,2,2,"td",24),d.BQk(),d.ynx(42,28),d.YNc(43,nt,2,0,"th",23),d.YNc(44,ot,2,2,"td",29),d.BQk(),d.ynx(45,30),d.YNc(46,at,2,0,"th",23),d.YNc(47,rt,2,2,"td",24),d.BQk(),d.YNc(48,st,1,0,"tr",31),d.YNc(49,ct,1,0,"tr",32),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(9),i=d.MAs(20),n=d.MAs(25);d.Q6J("hidden",!e.permission.isView),d.xp6(13),d.Q6J("disabled",!e.permission.isAdd)("disabled",t.invalid),d.xp6(6),d.Q6J("ngModel",e.group.departmentID)("ngModelOptions",d.DdM(12,dt)),d.xp6(2),d.Q6J("ngForOf",e.departmentList),d.xp6(1),d.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),d.xp6(2),d.Q6J("ngModel",e.group.group),d.xp6(2),d.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),d.xp6(2),d.Q6J("dataSource",e.dataSourcePermission),d.xp6(20),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[Z._Y,Z.JL,Z.F,g.lW,u.rH,f.KE,f.hX,Y.gD,Z.Q7,Z.JJ,Z.On,b.sg,b.O5,h.Nt,Z.Fj,n.BZ,n.w1,n.fO,n.Dz,n.as,n.nj,A.ey,n.ge,n.ev,G.oG,n.XQ,n.Gk],styles:[""]}),t})();class lt{}var gt=i(45396);const mt=["tblDepartment"];function pt(t,e){1&t&&(d.TgZ(0,"th",38),d._uU(1," Name "),d.qZA())}function ft(t,e){if(1&t&&(d.TgZ(0,"td",39),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.name," ")}}function ht(t,e){1&t&&(d.TgZ(0,"th",38),d._uU(1," status "),d.qZA())}function Zt(t,e){if(1&t&&(d.TgZ(0,"td",39),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ","1"==t.status?"active":"inactive"," ")}}function bt(t,e){1&t&&d._UZ(0,"th",38)}function _t(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",40),d.TgZ(1,"div",41),d.TgZ(2,"button",42),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().onClick_edit(e)}),d.TgZ(3,"i",28),d._uU(4,"edit"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}}function At(t,e){1&t&&d._UZ(0,"tr",43)}function yt(t,e){1&t&&d._UZ(0,"tr",44)}const wt=function(){return{standalone:!0}},Dt=[{path:"",children:[{path:"groups",component:M},{path:"group-form",component:ut},{path:"department",component:(()=>{class t extends c.H{constructor(t,e){super(t),this.route=t,this.depService=e,this.displayedColumns=["Name","Status","action"],this.dataSourceDepartment=new n.by,this.pageLength=0,this.pageSizeOptions=[50,100,300],this.criterial="",this.session=new s.E,this.newDepartment=new lt}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==a.o.groupsPageID)[0],this.permission&&1==this.permission.isView?(this.getCountDepartment(),this.getListDepartment(0,50)):r.C.showNotification("Permission Denied",a.o.warningNotify)}getCountDepartment(){}getListDepartment(t,e){this.depService.getListDepartmentsPagin(t,e).subscribe(t=>{console.log(t),t.status==o.G.success&&t.body.length>0&&(this.dataSourceDepartment.data=t.body)})}paginatorEvent(t){this.getListDepartment(t.pageIndex*t.pageSize,t.pageSize)}applyFilter(t){this.dataSourceDepartment.filter=t.trim().toLowerCase()}addDepartment(){this.newDepartment.name=this.departmentField,this.departmentField=void 0,this.depService.addDepartment(this.newDepartment).subscribe(t=>{t.status==o.G.success&&($("#modalAdding").modal("toggle"),this.newDepartment=new lt,this.getListDepartment(0,50))})}onClick_edit(t){this.newDepartment=JSON.parse(JSON.stringify(t)),this.departmentField=t.name,$("#modalAdding").modal("toggle")}change(t){this.newDepartment.status=1==t.checked?1:0}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(u.F0),d.Y36(O.n))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-department"]],viewQuery:function(t,e){if(1&t&&d.Gf(mt,5),2&t){let t;d.iGM(t=d.CRH())&&(e.tblUser=t.first)}},features:[d.qOj],decls:57,vars:12,consts:[[1,"main-content","p-0","m-0",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","m-0"],[1,"card-body"],[1,"d-flex","justify-content-start"],[1,"subHeaderTitle"],[2,"margin-top","-8px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","data-toggle","modal","data-target","#modalAdding",3,"disabled"],[1,"tbl-department","table-responsive"],["mat-table","",3,"dataSource","dataSourceChange"],["tblDepartment",""],["matColumnDef","Name"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","","matRipple","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","mat-row","mat-row","",4,"matRowDef","matRowDefColumns"],["id","modalAdding","tabindex","-1","role","dialog","aria-labelledby","modalAdding","aria-hidden","true",1,"modal","fade","modal-mini","modal-primary"],[1,"modal-dialog","modal-small"],[1,"modal-content"],[1,"modal-header"],["mat-button","","type","button","data-dismiss","modal","aria-hidden","true",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"col"],["matInput","","type","text","placeholder","Department",3,"ngModelOptions","ngModel","ngModelChange"],[1,"example-section"],[3,"checked","change"],[1,"modal-footer","justify-content-center"],["mat-raised-button","","type","button","data-dismiss","modal",1,"btn","btn-link"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link",3,"click"],[1,"ripple-container"],["mat-header-cell","",1,"text-primary"],["mat-cell","","matRipple",""],["mat-cell",""],[1,"d-flex","justify-content-end"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link","p-1","m-0",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d.TgZ(7,"h4",7),d._uU(8,"Department"),d.qZA(),d.TgZ(9,"div",8),d.TgZ(10,"button",9),d.TgZ(11,"mat-icon"),d._uU(12,"more_vert"),d.qZA(),d.qZA(),d.TgZ(13,"mat-menu",null,10),d.TgZ(15,"button",11),d.TgZ(16,"mat-icon"),d._uU(17,"dialpad"),d.qZA(),d.TgZ(18,"span"),d._uU(19,"New"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",12),d.TgZ(21,"table",13,14),d.NdJ("dataSourceChange",function(t){return e.dataSourceDepartment=t}),d.ynx(23,15),d.YNc(24,pt,2,0,"th",16),d.YNc(25,ft,2,1,"td",17),d.BQk(),d.ynx(26,18),d.YNc(27,ht,2,0,"th",16),d.YNc(28,Zt,2,1,"td",17),d.BQk(),d.ynx(29,19),d.YNc(30,bt,1,0,"th",16),d.YNc(31,_t,5,0,"td",20),d.BQk(),d.YNc(32,At,1,0,"tr",21),d.YNc(33,yt,1,0,"tr",22),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(34,"div",23),d.TgZ(35,"div",24),d.TgZ(36,"div",25),d.TgZ(37,"div",26),d.TgZ(38,"button",27),d.TgZ(39,"i",28),d._uU(40,"clear"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"div",29),d.TgZ(42,"div",2),d.TgZ(43,"div",30),d.TgZ(44,"mat-form-field"),d.TgZ(45,"input",31),d.NdJ("ngModelChange",function(t){return e.departmentField=t}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(46,"div",2),d.TgZ(47,"div",30),d.TgZ(48,"section",32),d._uU(49),d.TgZ(50,"mat-slide-toggle",33),d.NdJ("change",function(t){return e.change(t)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(51,"div",34),d.TgZ(52,"button",35),d._uU(53,"Cancel"),d.qZA(),d.TgZ(54,"button",36),d.NdJ("click",function(){return e.addDepartment()}),d._uU(55,"Save "),d._UZ(56,"div",37),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(14);d.Q6J("hidden",!e.permission.isView),d.xp6(10),d.Q6J("matMenuTriggerFor",t),d.xp6(5),d.Q6J("disabled",!e.permission.isAdd),d.xp6(6),d.Q6J("dataSource",e.dataSourceDepartment),d.xp6(11),d.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns),d.xp6(12),d.Q6J("ngModelOptions",d.DdM(11,wt))("ngModel",e.departmentField),d.xp6(4),d.hij(" ",""+e.newDepartment.status=="1"?"active":"inactive"," "),d.xp6(1),d.Q6J("checked",1==e.newDepartment.status)}},directives:[g.lW,m.p6,p.Hw,m.VK,m.OP,n.BZ,n.w1,n.fO,n.Dz,n.as,n.nj,f.KE,h.Nt,Z.Fj,Z.JJ,Z.On,gt.Rr,n.ge,n.ev,A.wG,n.XQ,n.Gk],styles:[".customerName[_ngcontent-%COMP%]{margin-bottom:0}.place[_ngcontent-%COMP%], phone[_ngcontent-%COMP%]{margin-bottom:0;color:gray;font-size:12px}.placeIconSize[_ngcontent-%COMP%]{font-size:14px!important}.phoneIconSize[_ngcontent-%COMP%]{font-size:14px!important}table[_ngcontent-%COMP%]{width:100%}.tbl-container[_ngcontent-%COMP%]{height:500px;overflow:auto}mat-cell[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-weight:400}.mat-row[_ngcontent-%COMP%]:hover{background:whitesmoke}"]}),t})()}]}];var vt=i(90670),xt=i(47361),qt=i(41335);let Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[b.ez,u.Bz.forChild(Dt),Z.u5,Z.UX,vt.TW,xt.vO,qt.q]]}),t})()},84934:function(t,e,i){i.d(e,{o:function(){return n}});var n=(()=>{return(t=n||(n={})).CKSNFILE="CKSNFILE",t.staff_position="staff_position",t.group_list="group_list",t.limit_file_upload="limit_file_upload",t.permission_page="permission_page",t.container_size="container_size",t.gw_unit_type="gw_unit_type",t.quantity_unit_type="quantity_unit_type",t.cbm_unit_type="cbm_unit_type",t.record_status="record_status",t.booking_mode="booking_mode",t.incoterm="incoterm",t.carrier="carrier",t.pod="pod",t.pol="pol",t.lcl="load_container_less",t.clientType="Client Type",t.border="border",t.operationgroup="1",t.tansportationgroup="2",t.brokergroup="3",t.seaPortType="1",t.driver="21",t.dem_due_warning="dem_due_warning",t.det_due_warning="det_due_warning",t[t.bookingsPageID=1]="bookingsPageID",t[t.bookingFormPageID=2]="bookingFormPageID",t[t.customersPageID=3]="customersPageID",t[t.customerFormPageID=4]="customerFormPageID",t[t.businessPageID=5]="businessPageID",t[t.businessFormPageID=6]="businessFormPageID",t[t.usersPageID=7]="usersPageID",t[t.userFormPageID=8]="userFormPageID",t[t.groupsPageID=9]="groupsPageID",t[t.groupFormPageID=10]="groupFormPageID",t[t.predataPageID=11]="predataPageID",t[t.predataFormPageID=12]="predataFormPageID",t[t.containerPageID=13]="containerPageID",t[t.department=14]="department",t[t.portSummary=15]="portSummary",t[t.portForm=16]="portForm",t[t.truckSummary=17]="truckSummary",t[t.truckForm=18]="truckForm",t[t.report=19]="report",t[t.dashboardID=20]="dashboardID",t[t.carrierID=21]="carrierID",t.billType="billType",t.warningNotify="warning",t.infoNotify="info",t.successNotify="success",t.dangerNotify="danger",t.roseNotify="rose",t.primaryNotify="primary",t[t.type_of_shipper_exporter_seller=84]="type_of_shipper_exporter_seller",t[t.type_of_consignee=85]="type_of_consignee",t[t.type_of_notify_party=86]="type_of_notify_party",t[t.type_of_customer=87]="type_of_customer",t[t.group_operation=1]="group_operation",t[t.group_transportation=2]="group_transportation",t[t.group_admin=5]="group_admin",t.containerStatus="containerStatus",t[t.containerStatus_DONE=93]="containerStatus_DONE",t.booking_status="booking_status",t[t.booking_status_new=36]="booking_status_new",t[t.booking_status_reject=39]="booking_status_reject",t[t.booking_status_done=37]="booking_status_done",t[t.booking_status_pending=38]="booking_status_pending",t[t.allValue=0]="allValue",t.all="All",t.multiDropStatus="MultiDropStatus",n;var t})()},40355:function(t,e,i){i.d(e,{G:function(){return n}});var n=(()=>{return(t=n||(n={})).success="success",t.server_error="server_error",t.logic_error="logic_error",n;var t})()},23235:function(t,e,i){i.d(e,{C:function(){return n}});class n{static showNotification(t,e){Math.floor(1*Math.random()+1),$.notify({icon:"notifications",message:t},{type:e,timer:5e3,placement:{from:"bottom",align:"right"},template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0} alert-with-icon" role="alert"><button mat-raised-button type="button" aria-hidden="true" class="close" data-notify="dismiss">  <i class="material-icons">close</i></button><i class="material-icons" data-notify="icon">notifications</i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}static UUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}}}]);