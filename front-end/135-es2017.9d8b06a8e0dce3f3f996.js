"use strict";(self.webpackChunkmaterial_dashboard_pro_angular=self.webpackChunkmaterial_dashboard_pro_angular||[]).push([[135],{135:function(t,e,n){n.r(e),n.d(e,{GroupModule:function(){return Ct}});var i=n(32789),o=n(40355),a=n(84934),r=n(23235),s=n(927),c=n(61176),u=n(37716),d=n(39895),l=n(10037),g=n(51095),m=n(33935),p=n(76627),f=n(98295),h=n(83166),Z=n(3679),b=n(38583),_=n(99692),A=n(72458);const w=["tblGroup"];function D(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"button",31),u.NdJ("click",function(){u.CHM(t);const e=u.oxw();return e.refreshData(e.refresh)})("click",function(){return u.CHM(t),u.oxw().criterial=""}),u.TgZ(1,"mat-icon"),u._uU(2,"close"),u.qZA(),u.qZA()}}function y(t,e){1&t&&(u.TgZ(0,"th",32),u._uU(1," ID "),u.qZA())}function q(t,e){if(1&t&&(u.TgZ(0,"td",33),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.hij(" ",t.ID," ")}}function T(t,e){1&t&&(u.TgZ(0,"th",32),u._uU(1," Group "),u.qZA())}function v(t,e){if(1&t&&(u.TgZ(0,"td",33),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.hij(" ",t.group," ")}}function C(t,e){1&t&&(u.TgZ(0,"th",32),u._uU(1," status "),u.qZA())}function x(t,e){if(1&t&&(u.TgZ(0,"td",33),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.hij(" ",t.status," ")}}function N(t,e){1&t&&u._UZ(0,"th",32)}function S(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",34),u.TgZ(1,"div",35),u.TgZ(2,"button",36),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().onClick_edit(e)}),u.TgZ(3,"i",37),u._uU(4,"edit"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}}function P(t,e){1&t&&u._UZ(0,"tr",38)}function I(t,e){1&t&&u._UZ(0,"tr",39)}let k=(()=>{class t extends c.H{constructor(t,e){super(t),this.route=t,this.groupService=e,this.displayedColumns=["ID","Group","Status","action"],this.dataSourceGroup=new i.by,this.pageLength=0,this.pageSizeOptions=[50,100,300],this.criterial="",this.session=new s.E}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==a.o.groupsPageID)[0],this.permission&&1==this.permission.isView?(this.getCountGroup(),this.getListGroups(0,50)):r.C.showNotification("Permission Denied",a.o.warningNotify)}getCountGroup(){this.groupService.getCountGroups().subscribe(t=>{t.status==o.G.success&&(this.pageLength=t.body[0])})}getListGroups(t,e){this.groupService.getListGroup(t,e).subscribe(t=>{t.status==o.G.success&&t.body.length>0&&(this.dataSourceGroup.data=t.body)})}paginatorEvent(t){this.getListGroups(t.pageIndex*t.pageSize,t.pageSize)}applyFilter(t){this.dataSourceGroup.filter=t}refreshData(t){this.applyFilter(t)}onClick_New(){let t={queryParams:{element:JSON.stringify({isEdit:0})}};this.route.navigate(["/group-form"],t)}onClick_edit(t){let e={queryParams:{element:JSON.stringify({isEdit:1,data:t})}};this.route.navigate(["/group-form"],e)}openAddGroupDialog(t){}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.F0),u.Y36(l.l))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-group"]],viewQuery:function(t,e){if(1&t&&u.Gf(w,5),2&t){let t;u.iGM(t=u.CRH())&&(e.tblUser=t.first)}},features:[u.qOj],decls:46,vars:12,consts:[[1,"main-content","p-0","m-0",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","m-0"],[1,"card-body"],[1,"d-flex","justify-content-start"],[1,"subHeaderTitle"],[2,"margin-top","-8px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],[1,"col-md-2","mrtb-0","pltb-0"],[1,"fullWidth"],["matPrefix",""],["matInput","","type","text","placeholder","search","name","criterial",3,"ngModel","keyup","ngModelChange"],["class","ml-3","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"col-md-10"],[3,"length","pageSize","pageSizeOptions","page"],[1,"tbl-container","table-responsive"],["mat-table","",3,"dataSource","dataSourceChange"],["tblGroup",""],["matColumnDef","ID"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","","matRipple","",4,"matCellDef"],["matColumnDef","Group"],["matColumnDef","Status"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","mat-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"ml-3",3,"click"],["mat-header-cell","",1,"text-primary"],["mat-cell","","matRipple",""],["mat-cell",""],[1,"d-flex","justify-content-end"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link","p-1","m-0",3,"click"],[1,"material-icons"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u.TgZ(7,"h4",7),u._uU(8,"Group"),u.qZA(),u.TgZ(9,"div",8),u.TgZ(10,"button",9),u.TgZ(11,"mat-icon"),u._uU(12,"more_vert"),u.qZA(),u.qZA(),u.TgZ(13,"mat-menu",null,10),u.TgZ(15,"button",11),u.NdJ("click",function(){return e.onClick_New()}),u.TgZ(16,"mat-icon"),u._uU(17,"dialpad"),u.qZA(),u.TgZ(18,"span"),u._uU(19,"New"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"div",2),u.TgZ(21,"div",12),u.TgZ(22,"mat-form-field",13),u.TgZ(23,"mat-icon",14),u._uU(24,"search"),u.qZA(),u.TgZ(25,"input",15),u.NdJ("keyup",function(t){return e.applyFilter(t.target.value)})("ngModelChange",function(t){return e.criterial=t}),u.qZA(),u.YNc(26,D,3,0,"button",16),u.qZA(),u.qZA(),u.TgZ(27,"div",17),u.TgZ(28,"mat-paginator",18),u.NdJ("page",function(t){return e.paginatorEvent(t)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(29,"div",19),u.TgZ(30,"table",20,21),u.NdJ("dataSourceChange",function(t){return e.dataSourceGroup=t}),u.ynx(32,22),u.YNc(33,y,2,0,"th",23),u.YNc(34,q,2,1,"td",24),u.BQk(),u.ynx(35,25),u.YNc(36,T,2,0,"th",23),u.YNc(37,v,2,1,"td",24),u.BQk(),u.ynx(38,26),u.YNc(39,C,2,0,"th",23),u.YNc(40,x,2,1,"td",24),u.BQk(),u.ynx(41,27),u.YNc(42,N,1,0,"th",23),u.YNc(43,S,5,0,"td",28),u.BQk(),u.YNc(44,P,1,0,"tr",29),u.YNc(45,I,1,0,"tr",30),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.MAs(14);u.Q6J("hidden",!e.permission.isView),u.xp6(10),u.Q6J("matMenuTriggerFor",t),u.xp6(5),u.Q6J("disabled",!e.permission.isAdd),u.xp6(10),u.Q6J("ngModel",e.criterial),u.xp6(1),u.Q6J("ngIf",e.criterial),u.xp6(2),u.Q6J("length",e.pageLength)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions),u.xp6(2),u.Q6J("dataSource",e.dataSourceGroup),u.xp6(14),u.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[g.lW,m.p6,p.Hw,m.VK,m.OP,f.KE,f.qo,h.Nt,Z.Fj,Z.JJ,Z.On,b.O5,_.NW,i.BZ,i.w1,i.fO,i.Dz,i.as,i.nj,f.R9,i.ge,i.ev,A.wG,i.XQ,i.Gk],styles:[".customerName[_ngcontent-%COMP%]{margin-bottom:0}.place[_ngcontent-%COMP%], phone[_ngcontent-%COMP%]{margin-bottom:0;color:gray;font-size:12px}.placeIconSize[_ngcontent-%COMP%]{font-size:14px!important}.phoneIconSize[_ngcontent-%COMP%]{font-size:14px!important}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-height: 1000px){.tbl-container[_ngcontent-%COMP%]{height:700px;overflow:auto}}@media screen and (max-height: 900px){.tbl-container[_ngcontent-%COMP%]{height:425px;overflow:auto}}mat-cell[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-weight:400}.mat-row[_ngcontent-%COMP%]:hover{background:whitesmoke}"]}),t})();class M{}class J{constructor(){this.isView=!1,this.isViewAll=!1,this.isAdd=!1,this.isDelete=!1,this.isUpdate=!1}}var O=n(34958),U=n(49206),Q=n(77001),F=n(22238),Y=n(67441),G=n(7539);const R=["tblPagePermion"];function H(t,e){if(1&t&&(u.TgZ(0,"mat-option",33),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.Q6J("value",t.ID),u.xp6(1),u.Oqu(t.name)}}function L(t,e){1&t&&(u.TgZ(0,"div"),u._uU(1," department is required. "),u.qZA())}function z(t,e){if(1&t&&(u.TgZ(0,"div",34),u.YNc(1,L,2,0,"div",35),u.qZA()),2&t){u.oxw();const t=u.MAs(20);u.xp6(1),u.Q6J("ngIf",t.errors.required)}}function E(t,e){1&t&&(u.TgZ(0,"div"),u._uU(1," group is required. "),u.qZA())}function V(t,e){if(1&t&&(u.TgZ(0,"div",34),u.YNc(1,E,2,0,"div",35),u.qZA()),2&t){u.oxw();const t=u.MAs(25);u.xp6(1),u.Q6J("ngIf",t.errors.required)}}function j(t,e){1&t&&(u.TgZ(0,"th",36),u._uU(1," Page "),u.qZA())}function B(t,e){if(1&t&&(u.TgZ(0,"td",37),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.hij(" ",t.page?t.page.titleEN:t.groupPermission.value," ")}}function K(t,e){1&t&&(u.TgZ(0,"th",36),u._uU(1," View "),u.qZA())}function X(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",37),u.TgZ(1,"mat-checkbox",38),u.NdJ("ngModelChange",function(e){return u.CHM(t).$implicit.isView=e}),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(1),u.s9C("name",t.ID+"isView"),u.Q6J("ngModel",t.isView)}}function W(t,e){1&t&&(u.TgZ(0,"th",36),u._uU(1," Add "),u.qZA())}function tt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",37),u.TgZ(1,"mat-checkbox",38),u.NdJ("ngModelChange",function(e){return u.CHM(t).$implicit.isAdd=e}),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(1),u.s9C("name",t.ID+"isAdd"),u.Q6J("ngModel",t.isAdd)}}function et(t,e){1&t&&(u.TgZ(0,"th",36),u._uU(1," Edit "),u.qZA())}function nt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",37),u.TgZ(1,"mat-checkbox",38),u.NdJ("ngModelChange",function(e){return u.CHM(t).$implicit.isUpdate=e}),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(1),u.s9C("name",t.ID+"isUpdate"),u.Q6J("ngModel",t.isUpdate)}}function it(t,e){1&t&&(u.TgZ(0,"th",36),u._uU(1," Delete "),u.qZA())}function ot(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",39),u.TgZ(1,"mat-checkbox",38),u.NdJ("ngModelChange",function(e){return u.CHM(t).$implicit.isDelete=e}),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(1),u.s9C("name",t.ID+"isDelete"),u.Q6J("ngModel",t.isDelete)}}function at(t,e){1&t&&(u.TgZ(0,"th",36),u._uU(1," View All "),u.qZA())}function rt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",37),u.TgZ(1,"mat-checkbox",38),u.NdJ("ngModelChange",function(e){return u.CHM(t).$implicit.isViewAll=e}),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(1),u.s9C("name",t.ID+"isViewAll"),u.Q6J("ngModel",t.isViewAll)}}function st(t,e){1&t&&u._UZ(0,"tr",40)}function ct(t,e){1&t&&u._UZ(0,"tr",41)}const ut=function(){return{standalone:!0}};let dt=(()=>{class t extends c.H{constructor(t,e,n,o,a,r){super(r),this.activateRoute=t,this.groupService=e,this.departmentService=n,this.matSnackbar=o,this.dialog=a,this.route=r,this.groupController=new Z.NI,this.onAddGroup=new u.vpe,this.group=new M,this.isEdit="0",this.displayedColumns=["Page","View","Add","Edit","Remove","ViewAll"],this.dataSourcePermission=new i.by,this.pageForm=new Z.cw({ID:new Z.NI,titleEN:new Z.NI,titleKH:new Z.NI,pageUrl:new Z.NI,code:new Z.NI,description:new Z.NI,isActive:new Z.NI,created:new Z.NI})}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==a.o.groupFormPageID)[0],this.permission&&1==this.permission.isView?(this.getListDepartments(),this.onLoadData()):r.C.showNotification("Permission Denied",a.o.warningNotify),this.getPageList()}onLoadData(){this.activateRoute.queryParams.subscribe(t=>{if(t.element){let e=JSON.parse(t.element?t.element:null);e&&"1"==e.isEdit?(this.group=e.data,this.groupService.getPermissionByGroupID(this.group.ID).subscribe(t=>{console.log(t),t.status==o.G.success&&t.body.length>0&&(this.dataSourcePermission.data=t.body[0].groupPermission),this.tblPagePermion.renderRows(),this.getPageList()})):(this.getListDepartments(),this.getPageList())}})}onClick_Save(){this.dialog.open(O.K,{width:"270px",data:{message:"Are you sure ?",title:"Save"}}).afterClosed().subscribe(t=>{1==t&&(this.group.groupPermission=this.dataSourcePermission.data,this.groupService.addGroup(this.group).subscribe(t=>{t.status==o.G.success?(this.matSnackbar.open(t.body[0].toString(),t.status,{duration:2e3}),this.onAddGroup.emit(t),this.route.navigate(["/groups"])):this.matSnackbar.open(t.body[0].toString(),t.status,{duration:2e3})}))})}getListDepartments(){this.departmentService.getListDepartments().subscribe(t=>{t.status==o.G.success&&t.status.length>0&&(this.departmentList=t.body)})}getPageList(){this.groupService.getAllPages().subscribe(t=>{console.log(t.body),t.status==o.G.success&&t.body.length>0&&(t.body.forEach(t=>{let e=new J;e.pageID=t.ID,e.page=t,0==this.dataSourcePermission.data.filter(t=>t.pageID==e.pageID).length&&this.dataSourcePermission.data.push(e)}),this.tblPagePermion.renderRows())})}AddnewPage(){let t;t=this.pageForm.getRawValue(),console.log(t),this.groupService.savePage(t).subscribe(t=>{console.log(t.body)})}onDepartmentSelectChanged(){}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.gz),u.Y36(l.l),u.Y36(U.n),u.Y36(Q.ux),u.Y36(F.uw),u.Y36(d.F0))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-group-form"]],viewQuery:function(t,e){if(1&t&&u.Gf(R,5),2&t){let t;u.iGM(t=u.CRH())&&(e.tblPagePermion=t.first)}},features:[u.qOj],decls:50,vars:13,consts:[[1,"main-content","p-0","m-0",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","mr-auto","ml-auto"],[1,"wizard-container"],["data-color","rose","id","wizardProfile",1,"card","mlr-2"],[1,"card-body"],[1,"tab-content"],["groupForm","ngForm"],[1,"d-flex","justify-content-end"],["mat-button","","routerLink","/groups"],["mat-button","","color","primary",3,"disabled","click"],[1,"w-100"],["name","departmentID","required","",3,"ngModel","ngModelOptions","ngModelChange"],["department","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["matInput","","required","","name","groupName","placeholder","group ",3,"ngModel","ngModelChange"],["groupName","ngModel"],[1,"table-responsive"],["mat-table","",1,"mt-4","mb-4",2,"width","100%","height","100%",3,"dataSource"],["tblPagePermion",""],["matColumnDef","Page"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","View"],["matColumnDef","Add"],["matColumnDef","Edit"],["matColumnDef","Remove"],["mat-cell","","style","width: 60px;",4,"matCellDef"],["matColumnDef","ViewAll"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["mat-header-cell","",1,"text-primary"],["mat-cell",""],[3,"name","ngModel","ngModelChange"],["mat-cell","",2,"width","60px"],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u.TgZ(7,"div",7),u.TgZ(8,"form",null,8),u.TgZ(10,"div",9),u.TgZ(11,"button",10),u._uU(12,"Cancel"),u.qZA(),u.TgZ(13,"button",11),u.NdJ("click",function(){return e.onClick_Save()}),u._uU(14,"Save"),u.qZA(),u.qZA(),u.TgZ(15,"div"),u.TgZ(16,"mat-form-field",12),u.TgZ(17,"mat-label"),u._uU(18,"Department"),u.qZA(),u.TgZ(19,"mat-select",13,14),u.NdJ("ngModelChange",function(t){return e.group.departmentID=t})("ngModelChange",function(){return e.onDepartmentSelectChanged()}),u.YNc(21,H,2,2,"mat-option",15),u.qZA(),u.YNc(22,z,2,1,"div",16),u.qZA(),u.TgZ(23,"mat-form-field",12),u.TgZ(24,"input",17,18),u.NdJ("ngModelChange",function(t){return e.group.group=t}),u.qZA(),u.YNc(26,V,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(27,"div",19),u.TgZ(28,"table",20,21),u.ynx(30,22),u.YNc(31,j,2,0,"th",23),u.YNc(32,B,2,1,"td",24),u.BQk(),u.ynx(33,25),u.YNc(34,K,2,0,"th",23),u.YNc(35,X,2,2,"td",24),u.BQk(),u.ynx(36,26),u.YNc(37,W,2,0,"th",23),u.YNc(38,tt,2,2,"td",24),u.BQk(),u.ynx(39,27),u.YNc(40,et,2,0,"th",23),u.YNc(41,nt,2,2,"td",24),u.BQk(),u.ynx(42,28),u.YNc(43,it,2,0,"th",23),u.YNc(44,ot,2,2,"td",29),u.BQk(),u.ynx(45,30),u.YNc(46,at,2,0,"th",23),u.YNc(47,rt,2,2,"td",24),u.BQk(),u.YNc(48,st,1,0,"tr",31),u.YNc(49,ct,1,0,"tr",32),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.MAs(9),n=u.MAs(20),i=u.MAs(25);u.Q6J("hidden",!e.permission.isView),u.xp6(13),u.Q6J("disabled",!e.permission.isAdd)("disabled",t.invalid),u.xp6(6),u.Q6J("ngModel",e.group.departmentID)("ngModelOptions",u.DdM(12,ut)),u.xp6(2),u.Q6J("ngForOf",e.departmentList),u.xp6(1),u.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),u.xp6(2),u.Q6J("ngModel",e.group.group),u.xp6(2),u.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),u.xp6(2),u.Q6J("dataSource",e.dataSourcePermission),u.xp6(20),u.Q6J("matHeaderRowDef",e.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[Z._Y,Z.JL,Z.F,g.lW,d.rH,f.KE,f.hX,Y.gD,Z.Q7,Z.JJ,Z.On,b.sg,b.O5,h.Nt,Z.Fj,i.BZ,i.w1,i.fO,i.Dz,i.as,i.nj,A.ey,i.ge,i.ev,G.oG,i.XQ,i.Gk],styles:[""]}),t})();class lt{}var gt=n(45396);const mt=["tblDepartment"];function pt(t,e){1&t&&(u.TgZ(0,"th",38),u._uU(1," Name "),u.qZA())}function ft(t,e){if(1&t&&(u.TgZ(0,"td",39),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.hij(" ",t.name," ")}}function ht(t,e){1&t&&(u.TgZ(0,"th",38),u._uU(1," status "),u.qZA())}function Zt(t,e){if(1&t&&(u.TgZ(0,"td",39),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.hij(" ","1"==t.status?"active":"inactive"," ")}}function bt(t,e){1&t&&u._UZ(0,"th",38)}function _t(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",40),u.TgZ(1,"div",41),u.TgZ(2,"button",42),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().onClick_edit(e)}),u.TgZ(3,"i",28),u._uU(4,"edit"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}}function At(t,e){1&t&&u._UZ(0,"tr",43)}function wt(t,e){1&t&&u._UZ(0,"tr",44)}const Dt=function(){return{standalone:!0}},yt=[{path:"",children:[{path:"groups",component:k},{path:"group-form",component:dt},{path:"department",component:(()=>{class t extends c.H{constructor(t,e){super(t),this.route=t,this.depService=e,this.displayedColumns=["Name","Status","action"],this.dataSourceDepartment=new i.by,this.pageLength=0,this.pageSizeOptions=[50,100,300],this.criterial="",this.session=new s.E,this.newDepartment=new lt}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==a.o.groupsPageID)[0],this.permission&&1==this.permission.isView?(this.getCountDepartment(),this.getListDepartment(0,50)):r.C.showNotification("Permission Denied",a.o.warningNotify)}getCountDepartment(){}getListDepartment(t,e){this.depService.getListDepartmentsPagin(t,e).subscribe(t=>{console.log(t),t.status==o.G.success&&t.body.length>0&&(this.dataSourceDepartment.data=t.body)})}paginatorEvent(t){this.getListDepartment(t.pageIndex*t.pageSize,t.pageSize)}applyFilter(t){this.dataSourceDepartment.filter=t.trim().toLowerCase()}addDepartment(){this.newDepartment.name=this.departmentField,this.departmentField=void 0,this.depService.addDepartment(this.newDepartment).subscribe(t=>{t.status==o.G.success&&($("#modalAdding").modal("toggle"),this.newDepartment=new lt,this.getListDepartment(0,50))})}onClick_edit(t){this.newDepartment=JSON.parse(JSON.stringify(t)),this.departmentField=t.name,$("#modalAdding").modal("toggle")}change(t){this.newDepartment.status=1==t.checked?1:0}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.F0),u.Y36(U.n))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-department"]],viewQuery:function(t,e){if(1&t&&u.Gf(mt,5),2&t){let t;u.iGM(t=u.CRH())&&(e.tblUser=t.first)}},features:[u.qOj],decls:57,vars:12,consts:[[1,"main-content","p-0","m-0",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","m-0"],[1,"card-body"],[1,"d-flex","justify-content-start"],[1,"subHeaderTitle"],[2,"margin-top","-8px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","data-toggle","modal","data-target","#modalAdding",3,"disabled"],[1,"tbl-department","table-responsive"],["mat-table","",3,"dataSource","dataSourceChange"],["tblDepartment",""],["matColumnDef","Name"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","","matRipple","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","mat-row","mat-row","",4,"matRowDef","matRowDefColumns"],["id","modalAdding","tabindex","-1","role","dialog","aria-labelledby","modalAdding","aria-hidden","true",1,"modal","fade","modal-mini","modal-primary"],[1,"modal-dialog","modal-small"],[1,"modal-content"],[1,"modal-header"],["mat-button","","type","button","data-dismiss","modal","aria-hidden","true",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"col"],["matInput","","type","text","placeholder","Department",3,"ngModelOptions","ngModel","ngModelChange"],[1,"example-section"],[3,"checked","change"],[1,"modal-footer","justify-content-center"],["mat-raised-button","","type","button","data-dismiss","modal",1,"btn","btn-link"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link",3,"click"],[1,"ripple-container"],["mat-header-cell","",1,"text-primary"],["mat-cell","","matRipple",""],["mat-cell",""],[1,"d-flex","justify-content-end"],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link","p-1","m-0",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u.TgZ(7,"h4",7),u._uU(8,"Department"),u.qZA(),u.TgZ(9,"div",8),u.TgZ(10,"button",9),u.TgZ(11,"mat-icon"),u._uU(12,"more_vert"),u.qZA(),u.qZA(),u.TgZ(13,"mat-menu",null,10),u.TgZ(15,"button",11),u.TgZ(16,"mat-icon"),u._uU(17,"dialpad"),u.qZA(),u.TgZ(18,"span"),u._uU(19,"New"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"div",12),u.TgZ(21,"table",13,14),u.NdJ("dataSourceChange",function(t){return e.dataSourceDepartment=t}),u.ynx(23,15),u.YNc(24,pt,2,0,"th",16),u.YNc(25,ft,2,1,"td",17),u.BQk(),u.ynx(26,18),u.YNc(27,ht,2,0,"th",16),u.YNc(28,Zt,2,1,"td",17),u.BQk(),u.ynx(29,19),u.YNc(30,bt,1,0,"th",16),u.YNc(31,_t,5,0,"td",20),u.BQk(),u.YNc(32,At,1,0,"tr",21),u.YNc(33,wt,1,0,"tr",22),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"div",23),u.TgZ(35,"div",24),u.TgZ(36,"div",25),u.TgZ(37,"div",26),u.TgZ(38,"button",27),u.TgZ(39,"i",28),u._uU(40,"clear"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(41,"div",29),u.TgZ(42,"div",2),u.TgZ(43,"div",30),u.TgZ(44,"mat-form-field"),u.TgZ(45,"input",31),u.NdJ("ngModelChange",function(t){return e.departmentField=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(46,"div",2),u.TgZ(47,"div",30),u.TgZ(48,"section",32),u._uU(49),u.TgZ(50,"mat-slide-toggle",33),u.NdJ("change",function(t){return e.change(t)}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",34),u.TgZ(52,"button",35),u._uU(53,"Cancel"),u.qZA(),u.TgZ(54,"button",36),u.NdJ("click",function(){return e.addDepartment()}),u._uU(55,"Save "),u._UZ(56,"div",37),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.MAs(14);u.Q6J("hidden",!e.permission.isView),u.xp6(10),u.Q6J("matMenuTriggerFor",t),u.xp6(5),u.Q6J("disabled",!e.permission.isAdd),u.xp6(6),u.Q6J("dataSource",e.dataSourceDepartment),u.xp6(11),u.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns),u.xp6(12),u.Q6J("ngModelOptions",u.DdM(11,Dt))("ngModel",e.departmentField),u.xp6(4),u.hij(" ",""+e.newDepartment.status=="1"?"active":"inactive"," "),u.xp6(1),u.Q6J("checked",1==e.newDepartment.status)}},directives:[g.lW,m.p6,p.Hw,m.VK,m.OP,i.BZ,i.w1,i.fO,i.Dz,i.as,i.nj,f.KE,h.Nt,Z.Fj,Z.JJ,Z.On,gt.Rr,i.ge,i.ev,A.wG,i.XQ,i.Gk],styles:[".customerName[_ngcontent-%COMP%]{margin-bottom:0}.place[_ngcontent-%COMP%], phone[_ngcontent-%COMP%]{margin-bottom:0;color:gray;font-size:12px}.placeIconSize[_ngcontent-%COMP%]{font-size:14px!important}.phoneIconSize[_ngcontent-%COMP%]{font-size:14px!important}table[_ngcontent-%COMP%]{width:100%}.tbl-container[_ngcontent-%COMP%]{height:500px;overflow:auto}mat-cell[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-weight:400}.mat-row[_ngcontent-%COMP%]:hover{background:whitesmoke}"]}),t})()}]}];var qt=n(90670),Tt=n(47361),vt=n(41335);let Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[b.ez,d.Bz.forChild(yt),Z.u5,Z.UX,qt.TW,Tt.vO,vt.q]]}),t})()},84934:function(t,e,n){n.d(e,{o:function(){return i}});var i=(()=>{return(t=i||(i={})).CKSNFILE="CKSNFILE",t.staff_position="staff_position",t.group_list="group_list",t.limit_file_upload="limit_file_upload",t.permission_page="permission_page",t.container_size="container_size",t.gw_unit_type="gw_unit_type",t.quantity_unit_type="quantity_unit_type",t.cbm_unit_type="cbm_unit_type",t.record_status="record_status",t.booking_mode="booking_mode",t.incoterm="incoterm",t.carrier="carrier",t.pod="pod",t.pol="pol",t.lcl="load_container_less",t.clientType="Client Type",t.border="border",t.operationgroup="1",t.tansportationgroup="2",t.brokergroup="3",t.seaPortType="1",t.driver="21",t.dem_due_warning="dem_due_warning",t.det_due_warning="det_due_warning",t[t.bookingsPageID=1]="bookingsPageID",t[t.bookingFormPageID=2]="bookingFormPageID",t[t.customersPageID=3]="customersPageID",t[t.customerFormPageID=4]="customerFormPageID",t[t.businessPageID=5]="businessPageID",t[t.businessFormPageID=6]="businessFormPageID",t[t.usersPageID=7]="usersPageID",t[t.userFormPageID=8]="userFormPageID",t[t.groupsPageID=9]="groupsPageID",t[t.groupFormPageID=10]="groupFormPageID",t[t.predataPageID=11]="predataPageID",t[t.predataFormPageID=12]="predataFormPageID",t[t.containerPageID=13]="containerPageID",t[t.department=14]="department",t[t.portSummary=15]="portSummary",t[t.portForm=16]="portForm",t[t.truckSummary=17]="truckSummary",t[t.truckForm=18]="truckForm",t[t.report=19]="report",t[t.dashboardID=20]="dashboardID",t[t.carrierID=21]="carrierID",t.billType="billType",t.warningNotify="warning",t.infoNotify="info",t.successNotify="success",t.dangerNotify="danger",t.roseNotify="rose",t.primaryNotify="primary",t[t.type_of_shipper_exporter_seller=84]="type_of_shipper_exporter_seller",t[t.type_of_consignee=85]="type_of_consignee",t[t.type_of_notify_party=86]="type_of_notify_party",t[t.type_of_customer=87]="type_of_customer",t[t.group_operation=1]="group_operation",t[t.group_transportation=2]="group_transportation",t[t.group_admin=5]="group_admin",t.containerStatus="containerStatus",t[t.containerStatus_DONE=93]="containerStatus_DONE",t.booking_status="booking_status",t[t.booking_status_new=36]="booking_status_new",t[t.booking_status_done=37]="booking_status_done",t[t.allValue=0]="allValue",t.all="All",t.multiDropStatus="MultiDropStatus",i;var t})()},40355:function(t,e,n){n.d(e,{G:function(){return i}});var i=(()=>{return(t=i||(i={})).success="success",t.server_error="server_error",t.logic_error="logic_error",i;var t})()}}]);