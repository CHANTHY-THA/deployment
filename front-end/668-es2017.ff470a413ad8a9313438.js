"use strict";(self.webpackChunkmaterial_dashboard_pro_angular=self.webpackChunkmaterial_dashboard_pro_angular||[]).push([[668],{64668:function(t,e,i){i.r(e),i.d(e,{PredataModule:function(){return tt}});var a=i(44087),r=i(32789),o=i(40355),n=i(3679),s=i(39761),l=i(88002),c=i(84934),d=i(37716),u=i(22238),p=i(23235),g=i(927),h=i(77001),m=i(37320),f=i(98295),_=i(83166),C=i(45396),Z=i(51095),y=i(72458);const S=["tblPredata"];function b(t,e){1&t&&(d.TgZ(0,"th",21),d._uU(1," ID "),d.qZA())}function P(t,e){if(1&t&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&t){const t=e.index;d.xp6(1),d.hij(" ",t+1," ")}}function D(t,e){1&t&&(d.TgZ(0,"th",21),d._uU(1," Value "),d.qZA())}function w(t,e){if(1&t&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.value," ")}}function A(t,e){1&t&&(d.TgZ(0,"th",21),d._uU(1," Status "),d.qZA())}function v(t,e){if(1&t&&(d.TgZ(0,"td",22),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ","1"==t.status?"ON":"OFF"," ")}}function k(t,e){1&t&&(d.TgZ(0,"th",21),d._uU(1," action "),d.qZA())}function T(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",23),d.TgZ(1,"i",24),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().onClick_Edit(e)}),d._uU(2,"edit"),d.qZA(),d.qZA()}}function x(t,e){1&t&&d._UZ(0,"tr",25)}function I(t,e){1&t&&d._UZ(0,"tr",26)}let q=(()=>{class t{constructor(t,e,i,a){this.data=t,this.dialogRef=e,this.matSnackbar=i,this.predataService=a,this.displayedColumns=["ID","Value","Status","action"],this.dataSourcePredata=new r.by,this.onAddPredata=new d.vpe,this.criterialAuoComplete=new n.NI,this.criterialList=[],this.session=new g.E,this.criterialSelected=t||void 0,this.criterial=this.criterialSelected.criterial,console.log(this.criterialSelected)}change(t){this.criterialSelected.status=1==t.checked?1:0}ngOnInit(){this.criterial=this.criterialSelected.criterial,this.onLoadPredataByCriterial(this.criterialSelected.criterial);let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==c.o.predataPageID)[0],this.permission&&0==this.permission.isView&&p.C.showNotification("Permission Denied",c.o.warningNotify)}onClick_Edit(t){this.criterialSelected=t,this.criterial=t.criterial}onClick_Add(){if(this.criterialSelected)if(this.criterialSelected.ID){let t=this.dataSourcePredata.data.find(t=>t.ID==this.criterialSelected.ID);t&&(t.status=this.criterialSelected.status,t.value=this.criterialSelected.value),this.criterialSelected=new a.p}else null==this.criterialSelected.ID&&(this.dataSourcePredata.data.find(t=>t.value==this.criterialSelected.value)||(this.criterialSelected.criterial=this.criterial,this.dataSourcePredata.data.push(this.criterialSelected),this.tblPredata.renderRows()),this.criterialSelected=new a.p)}onClick_Save(){this.predataService.addPreData(this.dataSourcePredata.data).subscribe(t=>{t.status==o.G.success?(this.matSnackbar.open(t.body[0].toString(),t.status,{duration:2e3}),this.dialogRef.close()):this.matSnackbar.open(t.body[0].toString(),t.status,{duration:2e3})})}onClick_No(){this.dialogRef.close()}onLoadPredataByCriterial(t){this.predataService.getListPredatas(t,0,1e3).subscribe(t=>{console.log(t),t.status==o.G.success&&(this.dataSourcePredata.data=t.body)})}applyFilter(t){}displayCriterial(t){return t?t.criterial:void 0}filterCriterial(t){if(t&&null!=t.criterial){const e=t.criterial.toLowerCase();return this.criterialList.filter(t=>0===t.criterial.toLowerCase().indexOf(e))}}onCriterialValueChanged(){this.filteredCriterial=this.criterialAuoComplete.valueChanges.pipe((0,s.O)(""),(0,l.U)(t=>t),(0,l.U)(t=>t?this.filterCriterial(t):this.criterialList.slice()))}getSelectedCriterial(t){t&&null!=t.criterial&&(this.criterialSelected=t.criterial)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(u.WI),d.Y36(u.so),d.Y36(h.ux),d.Y36(m.y))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-add-predata-dialog"]],viewQuery:function(t,e){if(1&t&&d.Gf(S,5),2&t){let t;d.iGM(t=d.CRH())&&(e.tblPredata=t.first)}},decls:35,vars:9,consts:[["mat-dialog-title",""],["matInput","","placeholder","criterial",3,"ngModel","ngModelChange"],["matInput","","placeholder","value",3,"ngModel","ngModelChange"],[1,"example-section"],[3,"checked","change"],[1,"d-flex","justify-content-end","mb-2"],["mat-button","","cdkFocusInitial","",3,"click"],[1,"tbl-container","table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource","dataSourceChange"],["tblPredata",""],["matColumnDef","ID"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","","matRipple","",4,"matCellDef"],["matColumnDef","Value"],["matColumnDef","Status"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mat-header-cell","",1,"text-primary"],["mat-cell","","matRipple",""],["mat-cell",""],[1,"material-icons",2,"cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Add/Edit"),d.qZA(),d.TgZ(2,"div"),d.TgZ(3,"mat-form-field"),d.TgZ(4,"input",1),d.NdJ("ngModelChange",function(t){return e.criterial=t}),d.qZA(),d.qZA(),d.TgZ(5,"mat-form-field"),d.TgZ(6,"input",2),d.NdJ("ngModelChange",function(t){return e.criterialSelected.value=t}),d.qZA(),d.qZA(),d.TgZ(7,"section",3),d._uU(8),d.TgZ(9,"mat-slide-toggle",4),d.NdJ("change",function(t){return e.change(t)}),d.qZA(),d.qZA(),d.TgZ(10,"div",5),d.TgZ(11,"button",6),d.NdJ("click",function(){return e.onClick_Add()}),d._uU(12,"Add"),d.qZA(),d.qZA(),d.TgZ(13,"div",7),d.TgZ(14,"table",8,9),d.NdJ("dataSourceChange",function(t){return e.dataSourcePredata=t}),d.ynx(16,10),d.YNc(17,b,2,0,"th",11),d.YNc(18,P,2,1,"td",12),d.BQk(),d.ynx(19,13),d.YNc(20,D,2,0,"th",11),d.YNc(21,w,2,1,"td",12),d.BQk(),d.ynx(22,14),d.YNc(23,A,2,0,"th",11),d.YNc(24,v,2,1,"td",12),d.BQk(),d.ynx(25,15),d.YNc(26,k,2,0,"th",11),d.YNc(27,T,3,0,"td",16),d.BQk(),d.YNc(28,x,1,0,"tr",17),d.YNc(29,I,1,0,"tr",18),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",19),d.TgZ(31,"button",6),d.NdJ("click",function(){return e.onClick_No()}),d._uU(32,"No Thanks"),d.qZA(),d.TgZ(33,"button",20),d.NdJ("click",function(){return e.onClick_Save()}),d._uU(34,"Save"),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("ngModel",e.criterial),d.xp6(2),d.Q6J("ngModel",e.criterialSelected.value),d.xp6(2),d.hij(" ","1"==e.criterialSelected.status?"Enable":"Disabled"," "),d.xp6(1),d.Q6J("checked",1==e.criterialSelected.status),d.xp6(5),d.Q6J("dataSource",e.dataSourcePredata),d.xp6(14),d.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns),d.xp6(4),d.Q6J("disabled",!e.permission.isAdd))},directives:[u.uh,f.KE,_.Nt,n.Fj,n.JJ,n.On,C.Rr,Z.lW,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,u.H8,r.ge,r.ev,y.wG,r.XQ,r.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}.tbl-container[_ngcontent-%COMP%]{height:250px;overflow:auto}"]}),t})();var N=i(61176),L=i(39895),F=i(33935),U=i(76627),J=i(21554),Q=i(38583);const Y=["tblPredata"];function M(t,e){if(1&t&&(d.TgZ(0,"mat-option",28),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.hij(" ",t.criterial," ")}}function R(t,e){1&t&&(d.TgZ(0,"th",29),d._uU(1," Description "),d.qZA())}function O(t,e){if(1&t&&(d.TgZ(0,"td",30),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.description," ")}}function E(t,e){1&t&&(d.TgZ(0,"th",29),d._uU(1," Criterial "),d.qZA())}function B(t,e){if(1&t&&(d.TgZ(0,"td",30),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.criterial," ")}}function H(t,e){1&t&&(d.TgZ(0,"th",29),d._uU(1," action "),d.qZA())}function G(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",31),d.TgZ(1,"button",32),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().onClick_Edit(e)}),d.TgZ(2,"i",33),d._uU(3,"edit"),d.qZA(),d.qZA(),d.qZA()}}function V(t,e){1&t&&d._UZ(0,"tr",34)}function j(t,e){1&t&&d._UZ(0,"tr",35)}const z=[{path:"",children:[{path:"predatas",component:(()=>{class t extends N.H{constructor(t,e,i){super(i),this.dialog=t,this.predataService=e,this.route=i,this.ALL="all",this.displayedColumns=["Description","Criterial","action"],this.dataSourcePredata=new r.by,this.pageLength=0,this.pageSize=50,this.pageSizeOptions=[50,100,300],this.criterialAuoComplete=new n.NI,this.criterialList=[],this.session=new g.E,this.displayedColumnsEdit=["ID","Value","Status","action"],this.dataSourcePredataEdit=new r.by}ngOnInit(){let t=this.session.getLoginSession();this.permission=t.group.groupPermission.filter(t=>t.pageID==c.o.predataPageID)[0],this.permission&&1==this.permission.isView?(this.onLoadCriterialList(),this.criterialSelected=this.ALL,this.getCountPredatas(this.ALL),this.onLoadPredataByCriterial()):p.C.showNotification("Permission Denied",c.o.warningNotify)}onLoadCriterialList(){this.predataService.getListCriterial().subscribe(t=>{if(t.status==o.G.success){let e=new a.p;e.criterial=this.ALL,this.criterialList.push(e),this.criterialList=this.criterialList.concat(t.body),this.onCriterialValueChanged()}})}onLoadPredataByCriterial(){this.predataService.getListPredatas(this.criterialSelected,this.pageIndex,this.pageSize).subscribe(t=>{t.status==o.G.success&&(this.dataSourcePredata.data=t.body,this.dataSourcePredata.data.forEach(t=>{null!=t.value&&(t.description=t.value)}))})}applyFilter(t){this.dataSourcePredata.filter=t.trim().toLowerCase()}displayCriterial(t){return t?t.criterial:void 0}filterCriterial(t){return console.log(t),this.criterialList.filter(e=>e.criterial.toLowerCase().includes(t))}onCriterialValueChanged(){this.filteredCriterial=this.criterialAuoComplete.valueChanges.pipe((0,s.O)(""),(0,l.U)(t=>t),(0,l.U)(t=>t?this.filterCriterial(t):this.criterialList.slice()))}getSelectedCriterial(t){t&&null!=t.criterial&&(this.criterialSelected=t.criterial,this.getCountPredatas(this.criterialSelected),this.onLoadPredataByCriterial())}getCountPredatas(t){this.predataService.getCountPredatas(t).subscribe(t=>{t.status==o.G.success&&(this.pageLength=t.body[0])})}paginatorEvent(t){this.pageIndex=t.pageIndex*t.pageSize,this.pageSize=t.pageSize,this.criterialSelected&&this.onLoadPredataByCriterial()}onClick_New(){let t=new a.p;t.criterial=this.criterialSelected,this.openPredataDialog(t)}onClick_Edit(t){this.openPredataDialog(t)}openPredataDialog(t){this.dialog.open(q,{data:t,height:"600",width:"500px"}).afterClosed().subscribe(t=>{this.criterialSelected=this.ALL,this.onLoadPredataByCriterial()})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(u.uw),d.Y36(m.y),d.Y36(L.F0))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-predata"]],viewQuery:function(t,e){if(1&t&&(d.Gf(Y,5),d.Gf(Y,5)),2&t){let t;d.iGM(t=d.CRH())&&(e.tblUser=t.first),d.iGM(t=d.CRH())&&(e.tblPredataEdit=t.first)}},features:[d.qOj],decls:42,vars:13,consts:[[1,"main-content",3,"hidden"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-start"],[1,"subHeaderTitle"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],[1,"col-md-3","mrtb-0","pltb-0"],[1,"example-full-width"],["type","text","placeholder","Pick one","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"tbl-container","table-responsive"],["mat-table","",1,"mat-elevation-z8",2,"width","100%",3,"dataSource","dataSourceChange"],["tblPredata",""],["matColumnDef","Description"],["mat-header-cell","","class","text-primary",4,"matHeaderCellDef"],["mat-cell","","matRipple","",4,"matCellDef"],["matColumnDef","Criterial"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","",1,"text-primary"],["mat-cell","","matRipple",""],["mat-cell",""],["mat-raised-button","","type","button",1,"btn","btn-success","btn-link",3,"click"],[1,"material-icons"],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d.TgZ(7,"h4",7),d._uU(8,"Pre Data"),d.qZA(),d.TgZ(9,"div"),d.TgZ(10,"button",8),d.TgZ(11,"mat-icon"),d._uU(12,"more_vert"),d.qZA(),d.qZA(),d.TgZ(13,"mat-menu",null,9),d.TgZ(15,"button",10),d.NdJ("click",function(){return e.onClick_New()}),d.TgZ(16,"mat-icon"),d._uU(17,"dialpad"),d.qZA(),d.TgZ(18,"span"),d._uU(19,"New"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",2),d.TgZ(21,"div",11),d.TgZ(22,"mat-form-field",12),d._UZ(23,"input",13),d.TgZ(24,"mat-autocomplete",14,15),d.NdJ("optionSelected",function(t){return e.getSelectedCriterial(t.option.value)}),d.YNc(26,M,2,2,"mat-option",16),d.ALo(27,"async"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"div",17),d.TgZ(29,"table",18,19),d.NdJ("dataSourceChange",function(t){return e.dataSourcePredata=t}),d.ynx(31,20),d.YNc(32,R,2,0,"th",21),d.YNc(33,O,2,1,"td",22),d.BQk(),d.ynx(34,23),d.YNc(35,E,2,0,"th",21),d.YNc(36,B,2,1,"td",22),d.BQk(),d.ynx(37,24),d.YNc(38,H,2,0,"th",21),d.YNc(39,G,4,0,"td",25),d.BQk(),d.YNc(40,V,1,0,"tr",26),d.YNc(41,j,1,0,"tr",27),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(14),i=d.MAs(25);d.Q6J("hidden",!e.permission.isView),d.xp6(10),d.Q6J("matMenuTriggerFor",t),d.xp6(5),d.Q6J("disabled",!e.permission.isAdd),d.xp6(8),d.Q6J("formControl",e.criterialAuoComplete)("matAutocomplete",i),d.xp6(1),d.Q6J("displayWith",e.displayCriterial),d.xp6(2),d.Q6J("ngForOf",d.lcZ(27,11,e.filteredCriterial)),d.xp6(3),d.Q6J("dataSource",e.dataSourcePredata),d.xp6(11),d.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[Z.lW,F.p6,U.Hw,F.VK,F.OP,f.KE,_.Nt,n.Fj,J.ZL,n.JJ,n.oH,J.XC,Q.sg,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,y.ey,r.ge,r.ev,y.wG,r.XQ,r.Gk],pipes:[Q.Ov],styles:["@media screen and (max-height: 1000px){.tbl-container[_ngcontent-%COMP%]{height:600px;overflow:auto}}@media screen and (max-height: 900px){.tbl-container[_ngcontent-%COMP%]{height:425px;overflow:auto}}mat-cell[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-weight:400}"]}),t})()}]}];var $=i(51440),W=i(90670),X=i(47361),K=i(41335);let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[m.y,$.E],imports:[[Q.ez,L.Bz.forChild(z),n.u5,n.UX,W.TW,F.Tx,X.vO,K.q]]}),t})()},44087:function(t,e,i){i.d(e,{p:function(){return a}});class a{constructor(){this.status=!0}}},84934:function(t,e,i){i.d(e,{o:function(){return a}});var a=(()=>{return(t=a||(a={})).CKSNFILE="CKSNFILE",t.staff_position="staff_position",t.group_list="group_list",t.limit_file_upload="limit_file_upload",t.permission_page="permission_page",t.container_size="container_size",t.gw_unit_type="gw_unit_type",t.quantity_unit_type="quantity_unit_type",t.cbm_unit_type="cbm_unit_type",t.record_status="record_status",t.booking_mode="booking_mode",t.incoterm="incoterm",t.carrier="carrier",t.pod="pod",t.pol="pol",t.lcl="load_container_less",t.clientType="Client Type",t.border="border",t.operationgroup="1",t.tansportationgroup="2",t.brokergroup="3",t.seaPortType="1",t.driver="21",t.dem_due_warning="dem_due_warning",t.det_due_warning="det_due_warning",t[t.bookingsPageID=1]="bookingsPageID",t[t.bookingFormPageID=2]="bookingFormPageID",t[t.customersPageID=3]="customersPageID",t[t.customerFormPageID=4]="customerFormPageID",t[t.businessPageID=5]="businessPageID",t[t.businessFormPageID=6]="businessFormPageID",t[t.usersPageID=7]="usersPageID",t[t.userFormPageID=8]="userFormPageID",t[t.groupsPageID=9]="groupsPageID",t[t.groupFormPageID=10]="groupFormPageID",t[t.predataPageID=11]="predataPageID",t[t.predataFormPageID=12]="predataFormPageID",t[t.containerPageID=13]="containerPageID",t[t.department=14]="department",t[t.portSummary=15]="portSummary",t[t.portForm=16]="portForm",t[t.truckSummary=17]="truckSummary",t[t.truckForm=18]="truckForm",t[t.report=19]="report",t[t.dashboardID=20]="dashboardID",t[t.carrierID=21]="carrierID",t.billType="billType",t.warningNotify="warning",t.infoNotify="info",t.successNotify="success",t.dangerNotify="danger",t.roseNotify="rose",t.primaryNotify="primary",t[t.type_of_shipper_exporter_seller=84]="type_of_shipper_exporter_seller",t[t.type_of_consignee=85]="type_of_consignee",t[t.type_of_notify_party=86]="type_of_notify_party",t[t.type_of_customer=87]="type_of_customer",t[t.group_operation=1]="group_operation",t[t.group_transportation=2]="group_transportation",t[t.group_admin=5]="group_admin",t.containerStatus="containerStatus",t[t.containerStatus_DONE=93]="containerStatus_DONE",t.booking_status="booking_status",t[t.booking_status_new=36]="booking_status_new",t[t.booking_status_done=37]="booking_status_done",t[t.allValue=0]="allValue",t.all="All",t.multiDropStatus="MultiDropStatus",a;var t})()},37320:function(t,e,i){i.d(e,{y:function(){return l}});var a=i(65136),r=i(82327),o=i(37716),n=i(91841),s=i(39895);let l=(()=>{class t extends a.b{constructor(t,e){super(e),this.http=t}getPreDefinedsByCriterial(t){return this.http.post(r.V.getPredataByCriterial,{criterial:t})}addPreData(t){return this.http.post(r.V.addPreData,{predata:t})}getListPredatas(t,e,i){return t||(t="all"),this.http.post(r.V.getListPredatas,{criterial:t,pageIndex:e,pageSize:i})}getListCriterial(){return this.http.post(r.V.getListCriterial,{})}getCountPredatas(t){return this.http.post(r.V.getCountPredatas,{criterial:t})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN),o.LFG(s.F0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},40355:function(t,e,i){i.d(e,{G:function(){return a}});var a=(()=>{return(t=a||(a={})).success="success",t.server_error="server_error",t.logic_error="logic_error",a;var t})()}}]);